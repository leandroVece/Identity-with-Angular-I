{"ast":null,"code":"import { EMAIL_CLAIM_KEY } from 'src/app/constant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/userServices\";\nimport * as i3 from \"../../services/TokenServices\";\nimport * as i4 from \"@auth0/angular-jwt\";\nexport class SettingsComponent {\n  constructor(formBuilder, userServices, TokenService, jwtHelper) {\n    this.formBuilder = formBuilder;\n    this.userServices = userServices;\n    this.TokenService = TokenService;\n    this.jwtHelper = jwtHelper;\n    this.builderSettingsForm();\n  }\n  submitForm() {\n    // Aquí puedes manejar el envío del formulario, como enviar los datos al servidor\n    //console.log(this.checkboxForm.value);\n    this.userServices.Settings(this.Form.value).subscribe(res => {\n      console.log('Respuesta del backend:', res);\n    });\n  }\n  builderSettingsForm() {\n    const token = this.TokenService.getToken();\n    if (token) {\n      const decoded = this.jwtHelper.decodeToken(token.tokenAcces.token);\n      const email = decoded[EMAIL_CLAIM_KEY];\n      this.Form = this.formBuilder.group({\n        towFactory: false,\n        email: [email]\n      });\n    } else {\n      // Manejo del caso en el que el token no está disponible\n      alert('No se encontró el token de acceso o el token esta vencido');\n    }\n  }\n}\nSettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n  return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserServices), i0.ɵɵdirectiveInject(i3.TokenService), i0.ɵɵdirectiveInject(i4.JwtHelperService));\n};\nSettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SettingsComponent,\n  selectors: [[\"app-settings\"]],\n  decls: 14,\n  vars: 1,\n  consts: [[1, \"\"], [1, \"container\", \"d-flex\", \"justify-content-center\"], [1, \"container\", \"d-flex\", \"justify-content-center\", \"mt-5\"], [1, \"border\", \"border-black\", \"p-4\", \"rounded\", 2, \"width\", \"75%\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"border-bottom\", \"border-secondary\"], [1, \"form-check\", \"form-switch\", \"p-0\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"for\", \"switchCheckLabelStart\", 1, \"form-check-label\", \"h4\"], [\"formControlName\", \"option1\", \"type\", \"checkbox\", \"role\", \"switch\", \"id\", \"switchCheckLabelStart\", 1, \"form-check-input\", \"ms-0\", \"h4\"], [1, \"d-grid\", \"gap-2\", \"d-md-flex\", \"justify-content-end\", \"mt-5\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"]],\n  template: function SettingsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Configuracion de cuenta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function SettingsComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"label\", 7);\n      i0.ɵɵtext(9, \"Verificacion de 2 pasos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\n      i0.ɵɵtext(13, \"Enviar\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.checkboxForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAOA,SAASA,eAAe,QAAQ,kBAAkB;;;;;;AASlD,OAAM,MAAOC,iBAAiB;EAK1BC,YAAoBC,WAAwB,EAAUC,YAA0B,EACpEC,YAA0B,EAAUC,SAA2B;IADvD,gBAAW,GAAXH,WAAW;IAAuB,iBAAY,GAAZC,YAAY;IACtD,iBAAY,GAAZC,YAAY;IAAwB,cAAS,GAATC,SAAS;IACrD,IAAI,CAACC,mBAAmB,EAAE;EAC9B;EAEAC,UAAU;IACN;IACA;IACA,IAAI,CAACJ,YAAY,CAACK,QAAQ,CAAC,IAAI,CAACC,IAAI,CAACC,KAAK,CAAC,CAACC,SAAS,CACjDC,GAAG,IAAG;MACFC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,GAAG,CAAC;IAC9C,CAAC,CAAC;EAEV;EAEQN,mBAAmB;IACvB,MAAMS,KAAK,GAAG,IAAI,CAACX,YAAY,CAACY,QAAQ,EAAE;IAC1C,IAAID,KAAK,EAAE;MACP,MAAME,OAAO,GAAG,IAAI,CAACZ,SAAS,CAACa,WAAW,CAACH,KAAK,CAACI,UAAU,CAACJ,KAAK,CAAC;MAClE,MAAMK,KAAK,GAAGH,OAAO,CAAClB,eAAe,CAAC;MACtC,IAAI,CAACU,IAAI,GAAG,IAAI,CAACP,WAAW,CAACmB,KAAK,CAAC;QAC/BC,UAAU,EAAE,KAAK;QACjBF,KAAK,EAAE,CAACA,KAAK;OAChB,CAAC;KACL,MAAM;MACH;MACAG,KAAK,CAAC,2DAA2D,CAAC;;EAE1E;;AAjCSvB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MChB9BC,kCAAkB;MAEsCA,uCAAuB;MAAAA,iBAAK;MAEhFA,8BAA0D;MAEjBA;QAAA,OAAYC,gBAAY;MAAA,EAAC;MACtDD,8BAA4C;MAE2BA,uCAAuB;MAAAA,iBAAQ;MAC9FA,4BACiC;MACrCA,iBAAM;MAEVA,+BAA8D;MACPA,uBAAM;MAAAA,iBAAS;;;MATpEA,eAA0B;MAA1BA,4CAA0B","names":["EMAIL_CLAIM_KEY","SettingsComponent","constructor","formBuilder","userServices","TokenService","jwtHelper","builderSettingsForm","submitForm","Settings","Form","value","subscribe","res","console","log","token","getToken","decoded","decodeToken","tokenAcces","email","group","towFactory","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\proyecto web c shrap\\Angular.net\\UserLogin\\Login\\ClientApp\\src\\app\\Components\\settings\\settings.component.ts","D:\\proyecto web c shrap\\Angular.net\\UserLogin\\Login\\ClientApp\\src\\app\\Components\\settings\\settings.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n\r\nimport { UserServices } from '../../services/userServices';\r\nimport { TokenService } from '../../services/TokenServices';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { EMAIL_CLAIM_KEY } from 'src/app/constant';\r\nimport { UserTwoFactoryLogin } from 'src/app/Models/User.Models';\r\n\r\n@Component({\r\n    selector: 'app-settings',\r\n    templateUrl: './settings.component.html',\r\n    styleUrls: ['./settings.component.css']\r\n})\r\n\r\nexport class SettingsComponent {\r\n\r\n    Form!: FormGroup;\r\n    data!: UserTwoFactoryLogin;\r\n\r\n    constructor(private formBuilder: FormBuilder, private userServices: UserServices,\r\n        private TokenService: TokenService, private jwtHelper: JwtHelperService) {\r\n        this.builderSettingsForm();\r\n    }\r\n\r\n    submitForm() {\r\n        // Aquí puedes manejar el envío del formulario, como enviar los datos al servidor\r\n        //console.log(this.checkboxForm.value);\r\n        this.userServices.Settings(this.Form.value).subscribe(\r\n            res => {\r\n                console.log('Respuesta del backend:', res)\r\n            });\r\n\r\n    }\r\n\r\n    private builderSettingsForm() {\r\n        const token = this.TokenService.getToken();\r\n        if (token) {\r\n            const decoded = this.jwtHelper.decodeToken(token.tokenAcces.token);\r\n            const email = decoded[EMAIL_CLAIM_KEY];\r\n            this.Form = this.formBuilder.group({\r\n                towFactory: false, // Valor inicial del checkbox\r\n                email: [email]\r\n            });\r\n        } else {\r\n            // Manejo del caso en el que el token no está disponible\r\n            alert('No se encontró el token de acceso o el token esta vencido');\r\n        }\r\n    }\r\n\r\n}","<section class=\"\">\r\n\r\n    <h1 class=\"container d-flex justify-content-center\">Configuracion de cuenta</h1>\r\n\r\n    <div class=\"container d-flex justify-content-center mt-5\">\r\n        <div class=\"border border-black p-4 rounded\" style=\"width: 75%;\">\r\n            <form [formGroup]=\"checkboxForm\" (ngSubmit)=\"submitForm()\">\r\n                <div class=\"border-bottom border-secondary\">\r\n                    <div class=\"form-check form-switch p-0 d-flex justify-content-between align-items-center\">\r\n                        <label class=\"form-check-label h4\" for=\"switchCheckLabelStart\">Verificacion de 2 pasos</label>\r\n                        <input class=\"form-check-input ms-0 h4\" formControlName=\"option1\" type=\"checkbox\" role=\"switch\"\r\n                            id=\"switchCheckLabelStart\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-grid gap-2 d-md-flex  justify-content-end mt-5\">\r\n                    <button type=\"submit\" class=\"btn btn-primary mt-3\">Enviar</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}