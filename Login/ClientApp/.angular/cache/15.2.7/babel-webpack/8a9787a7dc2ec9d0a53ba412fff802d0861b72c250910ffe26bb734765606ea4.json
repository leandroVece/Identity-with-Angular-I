{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { MyValidators } from '../../Utils/Validatoes';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/userServices\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction HomeComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" El nombre de usuario es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a es requerida y debe tener al menos 8 caracteres. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" nombre del usuario es requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" correo es requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a es requerida y debe ser Alfanumerica tener al menos 8 caracteres, 1 mayuscula 1 caracter especial. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a no son iguales. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class HomeComponent {\n  constructor(userServices, fb, router) {\n    this.userServices = userServices;\n    this.fb = fb;\n    this.router = router;\n    this.userLogin = null;\n    this.userRegister = null;\n    this.builderLoginForm();\n    this.builderRegisterForm();\n  }\n  builderLoginForm() {\n    this.formLogin = this.fb.group({\n      userName: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]]\n    });\n  }\n  builderRegisterForm() {\n    this.formRegister = this.fb.group({\n      userName: ['', [Validators.required]],\n      email: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]],\n      confirmPassword: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]],\n      roles: [['User']]\n    }, {\n      validators: MyValidators.matchPasswords\n    });\n  }\n  ngAfterViewInit() {\n    const triggerTabList = Array.from(document.querySelectorAll('#ex1 a'));\n    triggerTabList.forEach(function (triggerEl) {\n      const tabTrigger = new bootstrap.Tab(triggerEl);\n      triggerEl.addEventListener('click', function (event) {\n        event.preventDefault();\n        tabTrigger.show();\n      });\n    });\n  }\n  onLogin() {\n    if (this.formLogin.valid) {\n      this.userLogin = this.formLogin.value;\n      //console.log(this.formLogin.value);\n      this.userServices.Login(this.userLogin).subscribe(res => {\n        // Manejar la respuesta del backend\n        console.log('Respuesta del backend:', res);\n        // console.log('Respuesta del backend:', res.response?.TokenAcces.Token);\n      });\n    } else {\n      if (!this.userNameFieldLogin?.valid && this.passwordFieldLogin?.valid) {\n        alert(\"El usuario debe estar cargado\");\n      }\n      if (this.userNameFieldLogin?.valid && !this.passwordFieldLogin?.valid) {\n        alert(\"La contraseña debe tener al menos 8 caracteres, una mayúscula y un carácter especial\");\n      }\n      alert(\"Los campos deben rellenarse correctamente\");\n    }\n  }\n  onRegister() {\n    if (this.formRegister.valid) {\n      console.log(this.formRegister.value);\n      const {\n        confirmPassword,\n        ...userData\n      } = this.formRegister.value;\n      this.userRegister = userData;\n      this.userServices.Register(this.userRegister).subscribe(response => {\n        // Manejar la respuesta del backend\n        console.log('Respuesta del backend:', response);\n      }, error => {\n        // Manejar cualquier error en la solicitud HTTP\n        console.error('Error al enviar el formulario de registro al backend:', error);\n        console.log(error);\n      });\n    } else {\n      if (!this.formLogin.get(\"userName\")?.valid) {\n        alert(\"El nombre de usuario debe ser válido.\");\n      } else if (!this.formLogin.get(\"password\")?.valid) {\n        alert(\"La contraseña debe tener al menos 8 caracteres, una mayúscula y un carácter especial.\");\n      } else if (!this.formLogin.get(\"email\")?.valid) {\n        alert(\"El email debe ser válido.\");\n      } else {\n        alert(\"Por favor, rellene correctamente todos los campos.\");\n      }\n    }\n  }\n  navigateTo() {\n    this.router.navigate(['forgot-password']);\n  }\n  get passwordField() {\n    return this.formRegister.get('password');\n  }\n  get confirmPasswordField() {\n    return this.formRegister.get('confirmPassword');\n  }\n  get emailField() {\n    return this.formRegister.get('email');\n  }\n  get userNameField() {\n    return this.formRegister.get('userName');\n  }\n  get userNameFieldLogin() {\n    return this.formLogin.get('userName');\n  }\n  get passwordFieldLogin() {\n    return this.formLogin.get('password');\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserServices), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 91,\n  vars: 8,\n  consts: [[1, \"Login-register\", \"mt-5\"], [\"id\", \"ex1\", \"role\", \"tablist\", 1, \"nav\", \"nav-pills\", \"nav-justified\", \"mb-3\"], [\"role\", \"presentation\", 1, \"nav-item\"], [\"id\", \"tab-login\", \"data-mdb-toggle\", \"pill\", \"href\", \"#pills-login\", \"role\", \"tab\", \"aria-controls\", \"pills-login\", \"aria-selected\", \"true\", 1, \"nav-link\", \"active\"], [\"id\", \"tab-register\", \"data-mdb-toggle\", \"pill\", \"href\", \"#pills-register\", \"role\", \"tab\", \"aria-controls\", \"pills-register\", \"aria-selected\", \"false\", 1, \"nav-link\"], [1, \"tab-content\"], [\"id\", \"pills-login\", \"role\", \"tabpanel\", \"aria-labelledby\", \"tab-login\", 1, \"tab-pane\", \"fade\", \"show\", \"active\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"text-center\", \"mb-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", \"btn-floating\", \"mx-1\"], [1, \"fab\", \"fa-facebook-f\"], [1, \"fab\", \"fa-google\"], [1, \"fab\", \"fa-twitter\"], [1, \"fab\", \"fa-github\"], [1, \"text-center\"], [1, \"form-outline\", \"mb-4\"], [\"for\", \"loginName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"loginName\", \"formControlName\", \"userName\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"loginPassword\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"loginPassword\", \"formControlName\", \"password\", \"required\", \"\", 1, \"form-control\"], [1, \"row\", \"mb-4\"], [1, \"col-md-6\", \"d-flex\", \"justify-content-center\"], [\"for\", \"loginCheck\", 1, \"form-check-label\"], [1, \"form-check\", \"mb-3\", \"mb-md-0\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"loginCheck\", \"checked\", \"\", 1, \"form-check-input\"], [1, \"nav-item\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\"], [\"href\", \"#!\"], [\"id\", \"pills-register\", \"role\", \"tabpanel\", \"aria-labelledby\", \"tab-register\", 1, \"tab-pane\", \"fade\"], [\"for\", \"registerName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"registerName\", \"formControlName\", \"userName\", 1, \"form-control\"], [\"for\", \"registerEmail\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"registerEmail\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"registerPassword\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"registerPassword\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"registerRepeatPassword\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"registerRepeatPassword\", \"formControlName\", \"confirmPassword\", 1, \"form-control\"], [1, \"form-check\", \"d-flex\", \"justify-content-center\", \"mb-4\"], [\"for\", \"registerCheck\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"registerCheck\", \"checked\", \"\", \"aria-describedby\", \"registerCheckHelpText\", 1, \"form-check-input\", \"me-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-3\"], [1, \"text-danger\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"ul\", 1)(2, \"li\", 2)(3, \"a\", 3);\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"li\", 2)(6, \"a\", 4);\n      i0.ɵɵtext(7, \"Register\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_Template_form_ngSubmit_10_listener() {\n        return ctx.onLogin();\n      });\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"p\");\n      i0.ɵɵtext(13, \"Sign in with:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵelement(15, \"i\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 9);\n      i0.ɵɵelement(17, \"i\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 9);\n      i0.ɵɵelement(19, \"i\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 9);\n      i0.ɵɵelement(21, \"i\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"p\", 14);\n      i0.ɵɵtext(23, \"or:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 15)(25, \"label\", 16);\n      i0.ɵɵtext(26, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 17);\n      i0.ɵɵtemplate(28, HomeComponent_div_28_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 15)(30, \"label\", 19);\n      i0.ɵɵtext(31, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 20);\n      i0.ɵɵtemplate(33, HomeComponent_div_33_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 21)(35, \"div\", 22)(36, \"label\", 23);\n      i0.ɵɵtext(37, \" Remember me \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\", 24);\n      i0.ɵɵelement(39, \"input\", 25);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"div\", 22)(41, \"a\", 26);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_41_listener() {\n        return ctx.navigateTo();\n      });\n      i0.ɵɵtext(42, \"Forgot password?\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(43, \"button\", 27);\n      i0.ɵɵtext(44, \"Sign in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 14)(46, \"p\");\n      i0.ɵɵtext(47, \"Not a member? \");\n      i0.ɵɵelementStart(48, \"a\", 28);\n      i0.ɵɵtext(49, \"Register\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(50, \"div\", 29)(51, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_Template_form_ngSubmit_51_listener() {\n        return ctx.onRegister();\n      });\n      i0.ɵɵelementStart(52, \"div\", 8)(53, \"p\");\n      i0.ɵɵtext(54, \"Sign up with:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"button\", 9);\n      i0.ɵɵelement(56, \"i\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"button\", 9);\n      i0.ɵɵelement(58, \"i\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"button\", 9);\n      i0.ɵɵelement(60, \"i\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"button\", 9);\n      i0.ɵɵelement(62, \"i\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(63, \"p\", 14);\n      i0.ɵɵtext(64, \"or:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"div\", 15)(66, \"label\", 30);\n      i0.ɵɵtext(67, \"userName\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(68, \"input\", 31);\n      i0.ɵɵtemplate(69, HomeComponent_div_69_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"div\", 15)(71, \"label\", 32);\n      i0.ɵɵtext(72, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(73, \"input\", 33);\n      i0.ɵɵtemplate(74, HomeComponent_div_74_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"div\", 15)(76, \"label\", 34);\n      i0.ɵɵtext(77, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(78, \"input\", 35);\n      i0.ɵɵtemplate(79, HomeComponent_div_79_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"div\", 15)(81, \"label\", 36);\n      i0.ɵɵtext(82, \"Repeat password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(83, \"input\", 37);\n      i0.ɵɵtemplate(84, HomeComponent_div_84_Template, 2, 0, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"div\", 38)(86, \"label\", 39);\n      i0.ɵɵelement(87, \"input\", 40);\n      i0.ɵɵtext(88, \" I have read and agree to the terms \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(89, \"button\", 41);\n      i0.ɵɵtext(90, \"Sign in\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.formLogin);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", ctx.userNameFieldLogin.touched && ctx.userNameFieldLogin.invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.passwordField.touched && ctx.passwordField.invalid);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"formGroup\", ctx.formRegister);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", ctx.userNameField.touched && ctx.userNameField.invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.emailField.touched && ctx.emailField.invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.passwordField.touched && ctx.passwordField.invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.confirmPasswordField.touched && ctx.confirmPasswordField.invalid);\n    }\n  },\n  dependencies: [i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".Login-register[_ngcontent-%COMP%] {\\r\\n    max-width: 25%;\\r\\n    margin: auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7O0FBRUg7SUFDSSxjQUFjO0lBQ2QsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIC5kaXZpZGVyOmFmdGVyLFxyXG4uZGl2aWRlcjpiZWZvcmUge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBoZWlnaHQ6IDFweDtcclxuICAgIGJhY2tncm91bmQ6ICNlZWU7XHJcbn0gKi9cclxuXHJcbi5Mb2dpbi1yZWdpc3RlciB7XHJcbiAgICBtYXgtd2lkdGg6IDI1JTtcclxuICAgIG1hcmdpbjogYXV0bztcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","MyValidators","i0","HomeComponent","constructor","userServices","fb","router","builderLoginForm","builderRegisterForm","formLogin","group","userName","required","password","minLength","validPassword","formRegister","email","confirmPassword","roles","validators","matchPasswords","ngAfterViewInit","triggerTabList","Array","from","document","querySelectorAll","forEach","triggerEl","tabTrigger","bootstrap","Tab","addEventListener","event","preventDefault","show","onLogin","valid","userLogin","value","Login","subscribe","res","console","log","userNameFieldLogin","passwordFieldLogin","alert","onRegister","userData","userRegister","Register","response","error","get","navigateTo","navigate","passwordField","confirmPasswordField","emailField","userNameField","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\proyecto web c shrap\\Angular.net\\UserLogin\\Login\\ClientApp\\src\\app\\Components\\home\\home.component.ts","D:\\proyecto web c shrap\\Angular.net\\UserLogin\\Login\\ClientApp\\src\\app\\Components\\home\\home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Tokens } from '../..//Models/Token.models';\r\nimport { UserLogin, UserRegister } from 'src/app/Models/User.Models';\r\nimport { MyValidators } from '../../Utils/Validatoes';\r\n\r\nimport { Router, Route } from '@angular/router';\r\nimport { UserServices } from '../../services/userServices';\r\nimport { TokenService } from 'src/app/services/TokenServices';\r\n\r\n\r\n\r\n\r\ndeclare var bootstrap: any;\r\n\r\n@Component({\r\n    selector: 'app-home',\r\n    templateUrl: './home.component.html',\r\n    styleUrls: ['./home.component.css']\r\n})\r\n\r\n\r\nexport class HomeComponent {\r\n\r\n    //AoiResp: Roles[] = [];\r\n    formLogin!: FormGroup;\r\n    formRegister!: FormGroup;\r\n\r\n    userLogin: UserLogin | null = null;\r\n    userRegister: UserRegister | null = null;\r\n\r\n    responseTokens!: Tokens;\r\n\r\n    constructor(private userServices: UserServices, private fb: FormBuilder, private router: Router) {\r\n        this.builderLoginForm();\r\n        this.builderRegisterForm();\r\n    }\r\n\r\n    private builderLoginForm() {\r\n        this.formLogin = this.fb.group({\r\n            userName: ['', [Validators.required]],\r\n            password: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]],\r\n        })\r\n    }\r\n\r\n    private builderRegisterForm() {\r\n        this.formRegister = this.fb.group({\r\n            userName: ['', [Validators.required]],\r\n            email: ['', [Validators.required]],\r\n            password: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]],\r\n            confirmPassword: ['', [Validators.required, Validators.minLength(8), MyValidators.validPassword]],\r\n            roles: [['User']]\r\n        }, {\r\n            validators: MyValidators.matchPasswords\r\n        });\r\n    }\r\n\r\n\r\n\r\n    ngAfterViewInit() {\r\n        const triggerTabList = Array.from(document.querySelectorAll('#ex1 a'));\r\n        triggerTabList.forEach(function (triggerEl) {\r\n            const tabTrigger = new bootstrap.Tab(triggerEl);\r\n\r\n            triggerEl.addEventListener('click', function (event) {\r\n                event.preventDefault();\r\n                tabTrigger.show();\r\n            });\r\n        });\r\n    }\r\n\r\n    onLogin() {\r\n        if (this.formLogin.valid) {\r\n            this.userLogin = this.formLogin.value;\r\n            //console.log(this.formLogin.value);\r\n            this.userServices.Login(this.userLogin!).subscribe(\r\n                res => {\r\n                    // Manejar la respuesta del backend\r\n                    console.log('Respuesta del backend:', res);\r\n                    // console.log('Respuesta del backend:', res.response?.TokenAcces.Token);\r\n\r\n                })\r\n        } else {\r\n            if (!this.userNameFieldLogin?.valid && this.passwordFieldLogin?.valid) {\r\n                alert(\"El usuario debe estar cargado\");\r\n            }\r\n            if (this.userNameFieldLogin?.valid && !this.passwordFieldLogin?.valid) {\r\n                alert(\"La contraseña debe tener al menos 8 caracteres, una mayúscula y un carácter especial\");\r\n            }\r\n            alert(\"Los campos deben rellenarse correctamente\");\r\n        }\r\n    }\r\n\r\n    onRegister() {\r\n        if (this.formRegister.valid) {\r\n            console.log(this.formRegister.value)\r\n            const { confirmPassword, ...userData } = this.formRegister.value;\r\n            this.userRegister = userData;\r\n\r\n            this.userServices.Register(this.userRegister!).subscribe(\r\n                response => {\r\n                    // Manejar la respuesta del backend\r\n                    console.log('Respuesta del backend:', response);\r\n                },\r\n                error => {\r\n                    // Manejar cualquier error en la solicitud HTTP\r\n                    console.error('Error al enviar el formulario de registro al backend:', error);\r\n                    console.log(error);\r\n\r\n                })\r\n        } else {\r\n            if (!this.formLogin.get(\"userName\")?.valid) {\r\n                alert(\"El nombre de usuario debe ser válido.\");\r\n            } else if (!this.formLogin.get(\"password\")?.valid) {\r\n                alert(\"La contraseña debe tener al menos 8 caracteres, una mayúscula y un carácter especial.\");\r\n            } else if (!this.formLogin.get(\"email\")?.valid) {\r\n                alert(\"El email debe ser válido.\");\r\n            } else {\r\n                alert(\"Por favor, rellene correctamente todos los campos.\");\r\n            }\r\n        }\r\n    }\r\n\r\n    navigateTo() {\r\n        this.router.navigate(['forgot-password']);\r\n    }\r\n\r\n\r\n    get passwordField() {\r\n        return this.formRegister.get('password')!;\r\n    }\r\n\r\n    get confirmPasswordField() {\r\n        return this.formRegister.get('confirmPassword')!;\r\n    }\r\n\r\n    get emailField() {\r\n        return this.formRegister.get('email')!;\r\n    }\r\n\r\n    get userNameField() {\r\n        return this.formRegister.get('userName')!;\r\n    }\r\n\r\n\r\n    get userNameFieldLogin() {\r\n        return this.formLogin.get('userName')!;\r\n    }\r\n    get passwordFieldLogin() {\r\n        return this.formLogin.get('password')!;\r\n    }\r\n\r\n}\r\n","<section class=\"Login-register mt-5\">\r\n    <!-- Pills navs -->\r\n    <ul class=\"nav nav-pills nav-justified mb-3\" id=\"ex1\" role=\"tablist\">\r\n        <li class=\"nav-item\" role=\"presentation\">\r\n            <a class=\"nav-link active\" id=\"tab-login\" data-mdb-toggle=\"pill\" href=\"#pills-login\" role=\"tab\"\r\n                aria-controls=\"pills-login\" aria-selected=\"true\">Login</a>\r\n        </li>\r\n        <li class=\"nav-item\" role=\"presentation\">\r\n            <a class=\"nav-link\" id=\"tab-register\" data-mdb-toggle=\"pill\" href=\"#pills-register\" role=\"tab\"\r\n                aria-controls=\"pills-register\" aria-selected=\"false\">Register</a>\r\n        </li>\r\n\r\n    </ul>\r\n    <!-- Pills navs -->\r\n\r\n    <!-- Pills content -->\r\n    <div class=\"tab-content\">\r\n        <div class=\"tab-pane fade show active\" id=\"pills-login\" role=\"tabpanel\" aria-labelledby=\"tab-login\">\r\n            <form [formGroup]=\"formLogin\" (ngSubmit)=\"onLogin()\">\r\n                <div class=\" text-center mb-3\">\r\n                    <p>Sign in with:</p>\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-facebook-f\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-google\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-twitter\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-github\"></i>\r\n                    </button>\r\n                </div>\r\n\r\n                <p class=\"text-center\">or:</p>\r\n\r\n                <!-- username input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"loginName\">Username</label>\r\n                    <input type=\"text\" id=\"loginName\" formControlName=\"userName\" class=\"form-control\" required />\r\n                    <div class=\"text-danger\" *ngIf=\"userNameFieldLogin.touched && userNameFieldLogin.invalid\">\r\n                        El nombre de usuario es requerido.\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <!-- Password input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"loginPassword\">Password</label>\r\n                    <input type=\"password\" id=\"loginPassword\" formControlName=\"password\" class=\"form-control\"\r\n                        required />\r\n                    <div class=\"text-danger\" *ngIf=\"passwordField.touched && passwordField.invalid\">\r\n                        La contraseña es requerida y debe tener al menos 8 caracteres.\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- 2 column grid layout -->\r\n                <div class=\"row mb-4\">\r\n                    <div class=\"col-md-6 d-flex justify-content-center\">\r\n                        <!-- Checkbox -->\r\n                        <label class=\"form-check-label\" for=\"loginCheck\"> Remember me </label>\r\n                        <div class=\"form-check mb-3 mb-md-0\">\r\n                            <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"loginCheck\" checked />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6 d-flex justify-content-center\">\r\n                        <!-- Simple link -->\r\n                        <a (click)=\"navigateTo()\" class=\"nav-item\">Forgot password?</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Submit button -->\r\n                <!-- <button type=\"submit\" class=\"btn btn-primary btn-block mb-4\" [disabled]=\"!formLogin.valid\">Sign -->\r\n                <button type=\"submit\" class=\"btn btn-primary btn-block mb-4\">Sign\r\n                    in</button>\r\n\r\n                <!-- Register buttons -->\r\n                <div class=\"text-center\">\r\n                    <p>Not a member? <a href=\"#!\">Register</a></p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n\r\n        <div class=\"tab-pane fade\" id=\"pills-register\" role=\"tabpanel\" aria-labelledby=\"tab-register\">\r\n            <form [formGroup]=\"formRegister\" (ngSubmit)=\"onRegister()\">\r\n                <div class=\" text-center mb-3\">\r\n                    <p>Sign up with:</p>\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-facebook-f\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-google\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-twitter\"></i>\r\n                    </button>\r\n\r\n                    <button type=\"button\" class=\"btn btn-link btn-floating mx-1\">\r\n                        <i class=\"fab fa-github\"></i>\r\n                    </button>\r\n                </div>\r\n\r\n                <p class=\"text-center\">or:</p>\r\n\r\n                <!-- Name input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"registerName\">userName</label>\r\n                    <input type=\"text\" id=\"registerName\" formControlName=\"userName\" class=\"form-control\" />\r\n                    <div class=\"text-danger\" *ngIf=\"userNameField.touched && userNameField.invalid\">\r\n                        nombre del usuario es requerido\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <!-- Email input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"registerEmail\">Email</label>\r\n                    <input type=\"email\" id=\"registerEmail\" formControlName=\"email\" class=\"form-control\" />\r\n                    <div class=\"text-danger\" *ngIf=\"emailField.touched && emailField.invalid\">\r\n                        correo es requerido\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Password input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"registerPassword\">Password</label>\r\n                    <input type=\"password\" id=\"registerPassword\" formControlName=\"password\" class=\"form-control\" />\r\n                    <div class=\"text-danger\" *ngIf=\"passwordField.touched && passwordField.invalid\">\r\n                        La contraseña es requerida y debe ser Alfanumerica tener al menos 8 caracteres, 1 mayuscula 1\r\n                        caracter especial.\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Repeat Password input -->\r\n                <div class=\"form-outline mb-4\">\r\n                    <label class=\"form-label\" for=\"registerRepeatPassword\">Repeat password</label>\r\n                    <input type=\"password\" id=\"registerRepeatPassword\" formControlName=\"confirmPassword\"\r\n                        class=\"form-control\" />\r\n                    <div class=\"text-danger\" *ngIf=\"confirmPasswordField.touched && confirmPasswordField.invalid\">\r\n                        La contraseña no son iguales.\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Checkbox -->\r\n                <div class=\"form-check d-flex justify-content-center mb-4\">\r\n                    <label class=\"form-check-label\" for=\"registerCheck\">\r\n                        <input class=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"registerCheck\" checked\r\n                            aria-describedby=\"registerCheckHelpText\" />\r\n                        I have read and agree to the terms\r\n                    </label>\r\n                </div>\r\n\r\n                <!-- Submit button -->\r\n                <!-- <button type=\"submit\" class=\"btn btn-primary btn-block mb-3\" [disabled]=\"!formRegister.valid\">Sign -->\r\n                <button type=\"submit\" class=\"btn btn-primary btn-block mb-3\">Sign\r\n                    in</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <!-- Pills content -->\r\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}